<section
  class="relative flex flex-col lg:flex-row items-center justify-between px-6 py-8 max-w-7xl mx-auto mt-[-3rem] mb-20"
  id="whatsappReminder"
>
  <!-- Texto -->
  <div
    id="textContainer"
    class="text-center lg:text-left flex-1 lg:mr-8 lg:ml-40 opacity-0 translate-x-[-100%] transition-all duration-1000"
  >
    <h2 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-4">
      Ahora puedes realizar tus <br> pedidos a través de Whatsapp
    </h2>
    <p class="text-gray-600 text-base lg:text-lg">
      Realiza tus compras de forma rápida y sencilla.
    </p>
  </div>

  <!-- Imagen del móvil -->
  <div
    id="imageContainer"
    class="mt-6 lg:mt-0 flex-shrink-0 lg:mr-50 relative opacity-0 translate-x-[100%] transition-all duration-1000"
  >
    <img
      src="/assets/imagentiendamovil.png"
      alt="Dispositivo móvil mostrando WhatsApp"
      class="max-w-[12rem] lg:max-w-[16rem] w-full object-contain"
    />
    <!-- Circunferencia roja -->
    <div
      class="absolute bottom-[-0.4rem] right-[-0.1rem] border-4 border-red-500 rounded-full w-16 h-16 lg:w-24 lg:h-24"
    ></div>
  </div>
</section>

<style>
  /* Ajusta las transiciones para que sean más suaves */
  .transition-all {
    transition: all 1s ease-in-out; /* Duración más larga */
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Obtener los elementos del DOM
    const section = document.getElementById("whatsappReminder");
    const textContainer = document.getElementById("textContainer");
    const imageContainer = document.getElementById("imageContainer");

    // Verificar que todos los elementos existen antes de continuar
    if (!section || !textContainer || !imageContainer) {
      console.error("Uno o más elementos necesarios no se encontraron en el DOM.");
      return;
    }

    // Retrasar la aparición de los elementos
    const delayMargin = 200; // Ajusté el retraso a 200 píxeles para que aparezca más tarde

    // Función para manejar el scroll
    const onScroll = () => {
      const sectionPosition = section.getBoundingClientRect();
      const windowHeight = window.innerHeight;

      // Detectar si la sección está visible con el retraso
      if (
        sectionPosition.top <= windowHeight - delayMargin &&
        sectionPosition.bottom >= 0 + delayMargin
      ) {
        // Mostrar texto e imagen al hacer scroll hacia abajo
        textContainer.classList.remove("opacity-0", "translate-x-[-100%]");
        textContainer.classList.add("opacity-100", "translate-x-0");

        imageContainer.classList.remove("opacity-0", "translate-x-[100%]");
        imageContainer.classList.add("opacity-100", "translate-x-0");
      } else {
        // Ocultar texto e imagen al hacer scroll hacia arriba
        textContainer.classList.add("opacity-0", "translate-x-[-100%]");
        textContainer.classList.remove("opacity-100", "translate-x-0");

        imageContainer.classList.add("opacity-0", "translate-x-[100%]");
        imageContainer.classList.remove("opacity-100", "translate-x-0");
      }
    };

    // Agregar el evento scroll
    window.addEventListener("scroll", onScroll);
  });
</script>
