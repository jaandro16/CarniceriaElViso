<section
  class="relative flex flex-col lg:flex-row items-center justify-between px-6 py-8 max-w-7xl mx-auto mt-[-3rem] mb-20 overflow-hidden"
  id="whatsappReminder"
>
  <!-- Texto -->
  <div
    id="textContainer"
    class="text-center lg:text-left flex-1 lg:mr-8 lg:ml-40 opacity-0 scale-0 transition-all duration-700"
  >
    <h2 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-4">
      Ahora puedes realizar tus <br> pedidos a través de Whatsapp
    </h2>
    <p class="text-gray-600 text-base lg:text-lg">
      Realiza tus compras de forma rápida y sencilla.
    </p>
  </div>

  <!-- Imagen del móvil -->
  <div
    id="imageContainer"
    class="mt-6 lg:mt-0 flex-shrink-0 lg:mr-50 relative opacity-0 scale-0 transition-all duration-700"
  >
    <img
      src="/assets/imagentiendamovil.png"
      alt="Dispositivo móvil mostrando WhatsApp"
      class="max-w-[12rem] lg:max-w-[16rem] w-full object-contain"
    />
    <!-- Circunferencia roja -->
    <div
      class="absolute bottom-[-0.4rem] right-[-0.1rem] border-4 border-red-500 rounded-full w-16 h-16 lg:w-24 lg:h-24"
    ></div>
  </div>
</section>

<style>
  /* Ajusta las transiciones */
  .transition-all {
    transition: all 0.7s ease-in-out;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const section = document.getElementById("whatsappReminder");
    const textContainer = document.getElementById("textContainer");
    const imageContainer = document.getElementById("imageContainer");

    if (!section || !textContainer || !imageContainer) {
      console.error("Uno o más elementos no se encontraron.");
      return;
    }

    const delayMargin = 100; // Ajusta el retraso para el efecto (en píxeles)

    const onScroll = () => {
      const sectionPosition = section.getBoundingClientRect();
      const windowHeight = window.innerHeight;

      if (
        sectionPosition.top <= windowHeight - delayMargin &&
        sectionPosition.bottom >= 0 + delayMargin
      ) {
        textContainer.classList.remove("opacity-0", "scale-0");
        textContainer.classList.add("opacity-100", "scale-100");

        imageContainer.classList.remove("opacity-0", "scale-0");
        imageContainer.classList.add("opacity-100", "scale-100");
      } else {
        textContainer.classList.add("opacity-0", "scale-0");
        textContainer.classList.remove("opacity-100", "scale-100");

        imageContainer.classList.add("opacity-0", "scale-0");
        imageContainer.classList.remove("opacity-100", "scale-100");
      }
    };

    window.addEventListener("scroll", onScroll);
  });
</script>
